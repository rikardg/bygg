{
  "$ref": "#/$defs/ByggFile",
  "$defs": {
    "ByggFile": {
      "title": "ByggFile",
      "type": "object",
      "properties": {
        "actions": {
          "type": "array",
          "items": {
            "$ref": "#/$defs/ActionItem"
          }
        },
        "settings": {
          "$ref": "#/$defs/SettingsSection"
        },
        "environments": {
          "type": "object",
          "additionalProperties": {
            "$ref": "#/$defs/Environment"
          },
          "default": {}
        }
      },
      "required": [
        "actions"
      ],
      "additionalProperties": false
    },
    "ActionItem": {
      "title": "ActionItem",
      "description": "name: The name of the action.\ndescription: A description of the action. Used in e.g. help messages.\nmessage: A message to print when the action is executed.\ninputs: A list of files that are used as input to the action.\noutputs: A list of files that are generated by the action.\ndependencies: A list of actions that must be executed before this action.\nis_entrypoint: Whether this action is an entrypoint. Entry points are actions that\ncan be executed directly from the command line.\nshell: The shell command to execute when the action is run.",
      "type": "object",
      "properties": {
        "name": {
          "type": "string"
        },
        "description": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "message": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "inputs": {
          "anyOf": [
            {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "outputs": {
          "anyOf": [
            {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "dependencies": {
          "anyOf": [
            {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "is_entrypoint": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "environment": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": "default"
        },
        "shell": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        }
      },
      "required": [
        "name"
      ],
      "additionalProperties": false
    },
    "SettingsSection": {
      "title": "SettingsSection",
      "type": "object",
      "properties": {
        "default_action": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        }
      },
      "required": [],
      "additionalProperties": false
    },
    "Environment": {
      "title": "Environment",
      "description": "name: The name of the environment.\n\ndescription: A description of the environment. Used in e.g. help messages.\n\nbyggfiles: A list of Byggfiles that use this environment.\n\ninputs: A list of files that are used as input to the environment. Typically pip\nrequirements files, but can be any files.\n\nvenv_directory: The directory where the virtual environment is located. Will be\nrecreated by Bygg if any of the inputs are modified.\n\nshell: The shell command for creating the environment.\n\nentrypoints: A list of entrypoints that use this environment.",
      "type": "object",
      "properties": {
        "byggfile": {
          "type": "string"
        },
        "inputs": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "venv_directory": {
          "type": "string"
        },
        "shell": {
          "type": "string"
        },
        "description": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "message": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        }
      },
      "required": [
        "byggfile",
        "inputs",
        "venv_directory",
        "shell"
      ],
      "additionalProperties": false
    }
  }
}
